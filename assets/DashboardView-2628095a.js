import{_ as m,r as a,o as l,c as _,d as s,b as u,w as d,g as h,G as f,I as k,R as $,J as g,C as w}from"./index-920fa7f4.js";import{_ as v}from"./logo-xs-30a3776e.js";const A={data(){return{isActive:!1}},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login"),this.$swal({title:"已登出！",icon:"success",showConfirmButton:!1})}}},x={class:"header"},V={class:"container d-flex justify-content-between align-items-center"},C=s("div",{class:"logo"},[s("img",{src:v,class:"d-inline-block",alt:"logo-xs"})],-1);function B(o,e,i,p,t,r){const n=a("routerLink");return l(),_("div",x,[s("div",V,[C,s("nav",null,[u(n,{class:f(["me-4",{active:t.isActive}]),to:"/admin/products",onClick:e[0]||(e[0]=()=>t.isActive=!t.isActive)},{default:d(()=>[h("餐點菜單管理")]),_:1},8,["class"]),u(n,{class:"me-4",to:"/admin/orders"},{default:d(()=>[h("訂單管理")]),_:1}),s("a",{href:"#!",onClick:e[1]||(e[1]=k((...c)=>r.logout&&r.logout(...c),["prevent"]))},"登出")])])])}const R=m(A,[["render",B]]),{VITE_URL:E}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{isAuth:!1}},components:{RouterView:$,AdminHeader:R},methods:{checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(o){this.$http.defaults.headers.common.Authorization=o;const e=`${E}api/user/check`;this.$http.post(e).then(()=>{this.isAuth=!0}).catch(i=>{this.$router.push("/login"),this.$swal({title:i.response.data.message,icon:"error",showConfirmButton:!1})})}else res.data.success||(this.$router.push("/login"),this.$swal({title:"您沒有權限進入！請重新登入！",icon:"error",showConfirmButton:!1}))}},mounted(){this.checkLogin()}},T={class:"admin"};function D(o,e,i,p,t,r){const n=a("AdminHeader"),c=a("RouterView");return l(),_("div",T,[u(n),t.isAuth?(l(),g(c,{key:0})):w("",!0)])}const I=m(L,[["render",D]]);export{I as default};
