import{_ as m,r as a,o as u,c as _,d as o,b as l,w as d,g as h,G as f,I as k,R as $,J as g,C as v}from"./index-ace94a49.js";import{_ as A}from"./logo-xs-30a3776e.js";const w={data(){return{isActive:!1}},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login"),this.$swal({title:"已登出！",icon:"success",showConfirmButton:!1})}}},x={class:"header"},V={class:"container d-flex justify-content-between align-items-center"},C=o("div",{class:"logo"},[o("img",{src:A,class:"d-inline-block",alt:"logo-xs"})],-1);function B(i,e,t,p,s,r){const n=a("routerLink");return u(),_("div",x,[o("div",V,[C,o("nav",null,[l(n,{class:f(["me-4",{active:s.isActive}]),to:"/admin/products",onClick:e[0]||(e[0]=()=>s.isActive=!s.isActive)},{default:d(()=>[h("餐點菜單管理")]),_:1},8,["class"]),l(n,{class:"me-4",to:"/admin/orders"},{default:d(()=>[h("訂單管理")]),_:1}),o("a",{href:"#!",onClick:e[1]||(e[1]=k((...c)=>r.logout&&r.logout(...c),["prevent"]))},"登出")])])])}const R=m(w,[["render",B]]),{VITE_URL:E}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{isAuth:!1}},components:{RouterView:$,AdminHeader:R},methods:{checkLogin(){const i=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=i;const e=`${E}api/user/check`;this.$http.post(e).then(t=>{t.data.success||this.$router.push("/login"),this.isAuth=!0}).catch(t=>{this.$router.push("/login"),this.$swal({title:t.response.data.message,icon:"error",showConfirmButton:!1}),this.isAuth=!1})}},mounted(){this.checkLogin()}},T={class:"admin"};function D(i,e,t,p,s,r){const n=a("AdminHeader"),c=a("RouterView");return u(),_("div",T,[l(n),s.isAuth?(u(),g(c,{key:0})):v("",!0)])}const I=m(L,[["render",D]]);export{I as default};
