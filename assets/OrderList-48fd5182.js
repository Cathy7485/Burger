import{P as v}from"./PageBanner-b7a7972f.js";import{_ as g,r as m,o as d,c as i,b as p,d as e,D as f,H as w,I as R,g as _,t as o,F as b,B as y,w as T}from"./index-920fa7f4.js";const{VITE_URL:k,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},B={data(){return{pageTitle:{title:"訂單查詢"},orders:[],orderNum:"",orderResult:{},orderUser:{}}},components:{PageBanner:v},methods:{getOrders(){this.$http.get(`${k}api/${x}/orders`).then(t=>{this.orders=t.data.orders}).catch(t=>{this.$swal({title:t.response.data.message,icon:"error",showConfirmButton:!1})})},searchOrder(){let t="";t=this.orders.filter(c=>{if(this.orderNum===c.id)return c});const r=new Date(t[0].create_at*1e3);let u=r.getFullYear(),h=r.getMonth()+1,s=r.getDate(),n=r.getHours(),a=r.getMinutes();this.orderResult.date=`${u}/${h}/${s} 時間：${n}:${a}`,this.orderResult.id=t[0].id,this.orderResult.state=t[0].is_paid,this.orderResult.products=t[0].products,this.orderResult.num=t[0].num,this.orderResult.total=t[0].total,this.orderUser=t[0].user}},mounted(){this.getOrders()}},N={id:"page-content",class:"checkOrder container"},U={class:"row"},D={class:"col-lg-8 m-auto"},O={class:"form"},V=e("label",{for:"idNum",class:"form-label"},"訂單編號：",-1),E={class:"query"},M=e("div",{class:"title"},"查詢結果",-1),P={key:0,class:"text-center"},H={key:1,class:"result"},I={class:"row"},L={class:"col-lg-6"},C={class:"mb-2"},A=e("span",{class:"fw-bold"},"訂單日期：",-1),F={class:"mb-2"},q=e("span",{class:"fw-bold"},"訂單編號：",-1),S={class:"mb-2"},Y=e("span",{class:"fw-bold"},"訂單狀態：",-1),z={class:"mb-2"},j=e("span",{class:"fw-bold mb-2"},"訂單內容：",-1),G={class:"h4"},J={class:"col-lg-6"},K=e("div",{class:"fw-bold mb-2"},"訂購人：",-1),Q={class:"border"},W={class:"p-2 me-3 border-bottom"},X={class:"p-2 me-3 border-bottom"},Z={class:"p-2 me-3 border-bottom"},$={class:"p-2 me-3 border-bottom"};function ee(t,r,u,h,s,n){const a=m("PageBanner"),c=m("router-link");return d(),i(b,null,[p(a,{pageTitle:s.pageTitle},null,8,["pageTitle"]),e("section",N,[e("div",U,[e("div",D,[e("div",O,[V,f(e("input",{type:"text",id:"idNum",class:"form-control",placeholder:"請輸入訂單編號","onUpdate:modelValue":r[0]||(r[0]=l=>s.orderNum=l)},null,512),[[w,s.orderNum,void 0,{lazy:!0}]]),e("button",{type:"button",class:"btn btn-primary",onClick:r[1]||(r[1]=R((...l)=>n.searchOrder&&n.searchOrder(...l),["prevent"]))},"送出")]),e("div",E,[M,s.orderNum===""?(d(),i("div",P,"請輸入訂單編號查詢訂單。")):(d(),i("div",H,[e("div",I,[e("div",L,[e("div",C,[A,_(" "+o(s.orderResult.date),1)]),e("div",F,[q,_(" "+o(s.orderResult.id),1)]),e("div",S,[Y,e("span",null,o(s.orderResult.state?"已付款":"未付款"),1)]),e("div",z,[j,(d(!0),i(b,null,y(s.orderResult.products,l=>(d(),i("div",{class:"px-3 py-2 bg-light border-bottom",key:l.id},[e("div",null,"品名："+o(l.product.title),1),e("div",null,"數量："+o(l.qty),1),e("div",null,"價錢："+o(l.final_total),1)]))),128))]),e("div",G," 總金額："+o(s.orderResult.total)+" 元 ",1)]),e("div",J,[K,e("ul",Q,[e("li",W,"姓名："+o(s.orderUser.name),1),e("li",X,"電話："+o(s.orderUser.tel),1),e("li",Z,"信箱："+o(s.orderUser.email),1),e("li",$,"地址："+o(s.orderUser.address),1)]),p(c,{to:"/",class:"mt-3 btn btn-outline-secondary"},{default:T(()=>[_("回首頁")]),_:1})])])]))])])])])],64)}const oe=g(B,[["render",ee]]);export{oe as default};
