import{_ as h,r as u,o as _,c as m,b as t,w as n,f as r,G as f,a as l,I as $,R as k}from"./index-a1ec8525.js";import{_ as w}from"./logo-xs-30a3776e.js";const g={data(){return{isActive:!1}},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login"),this.$swal({title:"已登出！",icon:"success",showConfirmButton:!1})}}},v={id:"header"},x=l("div",{class:"logo"},[l("img",{src:w,class:"d-inline-block",alt:"logo-xs"})],-1);function V(a,e,s,p,i,c){const o=u("routerLink");return _(),m("nav",v,[t(o,{to:"/"},{default:n(()=>[x]),_:1}),t(o,{to:"/admin/products",class:f({active:i.isActive}),onClick:e[0]||(e[0]=()=>i.isActive=!i.isActive)},{default:n(()=>[r("餐點菜單管理")]),_:1},8,["class"]),t(o,{to:"/admin/orders"},{default:n(()=>[r("訂單管理")]),_:1}),t(o,{to:"/admin/news"},{default:n(()=>[r("最新公告管理")]),_:1}),t(o,{to:"/admin/about"},{default:n(()=>[r("品牌故事管理")]),_:1}),l("a",{href:"#!",onClick:e[1]||(e[1]=$((...d)=>c.logout&&c.logout(...d),["prevent"]))},"登出")])}const A=h(g,[["render",V]]),{VITE_URL:B}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},C={components:{RouterView:k,AdminHeader:A},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a;const e=`${B}api/user/check`;this.$http.post(e).then(s=>{s.data.success||(this.$router.push("/login"),this.$swal({title:"您沒有權限進入！請重新登入！",icon:"error",showConfirmButton:!1}))}).catch(s=>{this.$router.push("/login"),this.$swal({title:s.response.data.message,icon:"error",showConfirmButton:!1})})}},mounted(){this.checkLogin()}},R={class:"admin"};function E(a,e,s,p,i,c){const o=u("AdminHeader"),d=u("RouterView");return _(),m("div",R,[t(o),t(d)])}const D=h(C,[["render",E]]);export{D as default};
