import{P as _}from"./PageBanner-374b1571.js";import{_ as h,r as p,o as a,c as d,b as m,a as t,D as g,H as v,t as o,f,F as w}from"./index-a1ec8525.js";const{VITE_URL:R,VITE_PATH:D}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{pageTitle:{title:"訂單查詢"},orders:[],orderNum:"",orderResult:{}}},components:{PageBanner:_},methods:{getOrders(){this.$http.get(`${R}api/${D}/orders`).then(e=>{this.orders=e.data.orders}).catch(e=>{this.$swal({title:e.response.data.message,icon:"error",showConfirmButton:!1})})},searchOrder(){let e="";e=this.orders.filter(l=>{if(this.orderNum===l.id)return l});let r=new Date(e[0].create_at*1e3).getFullYear(),c=new Date(e[0].create_at*1e3).getMonth(),u=new Date(e[0].create_at*1e3).getDate(),s=new Date(e[0].create_at*1e3).getMinutes(),n=new Date(e[0].create_at*1e3).getMinutes();this.orderResult.date=`${r}-${c}-${u},${s}:${n}`,this.orderResult.id=e[0].id,this.orderResult.state=e[0].is_paid,this.orderResult.products=e[0].products,this.orderResult.num=e[0].num,this.orderResult.total=e[0].total,this.orderResult.user=e[0].user}},mounted(){this.getOrders()}},b={id:"page-content",class:"container"},k={id:"checkOrder",class:"row"},N={class:"col-lg-8 m-auto"},B={class:"form"},O=t("label",{for:"idNum",class:"form-label"},"訂單編號：",-1),V={class:"query"},x=t("div",{class:"title"},"查詢結果",-1),y={key:0,class:"result"},E={class:"d-inline-block w-50"},M={class:"d-inline-block w-50"},P={class:"d-inline-block w-50"},H=t("div",null,null,-1),I={key:1,class:"text-center"};function L(e,r,c,u,s,n){const l=p("PageBanner");return a(),d(w,null,[m(l,{pageTitle:s.pageTitle},null,8,["pageTitle"]),t("section",b,[t("div",k,[t("div",N,[t("div",B,[O,g(t("input",{type:"text",id:"idNum",class:"form-control",placeholder:"請輸入訂單編號","onUpdate:modelValue":r[0]||(r[0]=i=>s.orderNum=i)},null,512),[[v,s.orderNum]]),t("button",{type:"button",class:"btn btn-primary",onClick:r[1]||(r[1]=(...i)=>n.searchOrder&&n.searchOrder(...i))},"送出")]),t("div",V,[x,s.orderNum?(a(),d("div",y,[t("div",E," 訂單日期："+o(s.orderResult.date),1),t("div",M," 訂單編號："+o(s.orderResult.id),1),t("div",P,[f(" 訂單狀態："),t("span",null,o(s.orderResult.state?"已付款":"未付款"),1)]),t("div",null,"數量："+o(s.orderResult.num),1),t("div",null," 總金額："+o(s.orderResult.total),1),H])):(a(),d("div",I,"請輸入訂單編號查詢訂單。"))])])])])],64)}const C=h(T,[["render",L]]);export{C as default};
