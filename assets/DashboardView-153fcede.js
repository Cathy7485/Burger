import{_ as m,r as u,o as h,c as _,a as n,b as s,w as c,f as r,G as f,I as $,R as k}from"./index-c7d33b8f.js";import{_ as w}from"./logo-xs-30a3776e.js";const g={data(){return{isActive:!1}},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login"),this.$swal({title:"已登出！",icon:"success",showConfirmButton:!1})}}},v={class:"header"},x={class:"container d-flex justify-content-between align-items-center"},V=n("div",{class:"logo"},[n("img",{src:w,class:"d-inline-block",alt:"logo-xs"})],-1);function A(a,e,o,p,i,l){const t=u("routerLink");return h(),_("div",v,[n("div",x,[V,n("nav",null,[s(t,{class:f(["me-4",{active:i.isActive}]),to:"/admin/products",onClick:e[0]||(e[0]=()=>i.isActive=!i.isActive)},{default:c(()=>[r("餐點菜單管理")]),_:1},8,["class"]),s(t,{class:"me-4",to:"/admin/orders"},{default:c(()=>[r("訂單管理")]),_:1}),s(t,{class:"me-4",to:"/admin/news"},{default:c(()=>[r("最新公告管理")]),_:1}),s(t,{class:"me-4",to:"/admin/about"},{default:c(()=>[r("品牌故事管理")]),_:1}),n("a",{href:"#!",onClick:e[1]||(e[1]=$((...d)=>l.logout&&l.logout(...d),["prevent"]))},"登出")])])])}const B=m(g,[["render",A]]),{VITE_URL:C}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kc777",BASE_URL:"/Burger/",MODE:"production",DEV:!1,PROD:!0},R={components:{RouterView:k,AdminHeader:B},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a;const e=`${C}api/user/check`;this.$http.post(e).then(o=>{o.data.success||(this.$router.push("/login"),this.$swal({title:"您沒有權限進入！請重新登入！",icon:"error",showConfirmButton:!1}))}).catch(o=>{this.$router.push("/login"),this.$swal({title:o.response.data.message,icon:"error",showConfirmButton:!1})})}},mounted(){this.checkLogin()}},E={class:"admin"};function L(a,e,o,p,i,l){const t=u("AdminHeader"),d=u("RouterView");return h(),_("div",E,[s(t),s(d)])}const D=m(R,[["render",L]]);export{D as default};
